sq=(f,p=0.5)=>2*((s*tone(f)%1)<p)-1, 
s=t/48000,
b=94,
r=-1/0,
tone=(note)=>440*(2**((note-9)/12)),
q=(a)=>s%(60/a)*a/60,
F=(a)=>sin(2*PI*s*a),
st=(j)=>F(tone(j)),
bass=(k)=>asin(sin(s*2*PI*440*(2**((k-9)/12))))/PI*2,
cyc=(p,l)=>(floor(p/60*s))%l,
dec=(s,r=1)=>(1-q(s))**r,
lfo=(f,a,w,p=0,o=0)=>
[sin(f*2*PI*s+p)*a+o,
sign(sin(f*2*PI*s+p))+o,
(s+p)%(1/f)*f*a+o,
random()][w], 
sum=(Ar)=>Ar.reduce((a,b)=>a+b,0),
R=random(),
Cho=(Ar,Fn)=>sum(Ar.map(Fn))/Ar.length,
Ï‰=(a)=>{throw a},
p=(a,b)=>a!=b?a:r,
avg=(a)=>sum(a)/a.length,
Kick=_=>F(exp(q(_)*-19)*30/s),
Snare=(a)=>Kick(a)/2+R*dec(a,2)/2,
T=(M)=>(M[0].map((_,i) => M.reduce((A, R) => [...A, R[i]], []))),
Hat=_=>R*dec(_),
Chords={Maj:[0,4,7],
Min:[0,3,7],
Dim:[0,3,6],
Aug:[0,4,8],
Qua:[0,4,7,10],
Mi7:[0,3,7,10],
Ma7:[0,4,7,11],
Di7:[0,3,6,9],
mM7:[0,3,7,11]},
output=st(">@BEGJLN".charCodeAt(cyc(b*2,8))-64)*dec(b*2,2)+bass(">2;9".charCodeAt(cyc(b/4,4))-64)/2*dec(b/4,2)// the deafult code