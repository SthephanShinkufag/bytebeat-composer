let nHz=n=>456/*432*/*2**(n/12),
    mod=(n,m=1)=>(n%m+m)%m,
    TAU=Math.PI*2,
    l=[
  [-24,-12,-9,-5,-2,2],
  [-25.3,-13,-10,-6,-3,1,2],
  [-20,-8,-5,-1,2,6,6.75,9],
  
  [-24,-21,-17,-15,-14,-10,9,3,2],
  [-25,-22,-18,-15,-11,-10,9,9.9,2],
  [-20,-17,-13,-10,-6,-1,9,6],
  
  [-12,-9,-5,-3,2,7,12],
  [-13,-10,-6,-5,-3,2,9],
  [-20,-8,-5,-1,0,2,7,9,14,18],
  
  [-15,-12,-8,-5,-1,2,6,6.8,9],
  [-21,-17,-15,-10,-9,-7,-2,5,9],
  [-22,-19,-15,-14,-12,-7,-3,-2.2,-.1,5]
],s=[0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,2];
l=l.map(c=>c.flatMap(n=>[n,n+(Math.random()-.5)*.5,n+(Math.random()-.5)*.7]));
return t=>{
  let o=[0,0],m=0,
      ct=t*.4,
      c=l[mod(s[floor(mod(ct)*s.length)]+floor(ct)*3,l.length)];
  //c=l[l.length-1];
  for(let i=0;i<c.length;i++){
    o[i%2]    +=mod(t*nHz(c[i]-.1))-.5;
    o[(i+1)%2]+=mod((t-.3)*nHz(c[i]+.1))-.5;
    m+=sin(TAU*t*nHz(c[i]))-sin(TAU*t*nHz(c[i]+7.1))*.5;
    m+=mod((t+i)*2*nHz((i*-.01)+c[mod(floor(t*12)*3,min(c.length,8))]))<.4?-.4:.4;
  }
  m*=.5;
  return[(o[0]+m)*.1,(o[1]+m)*.1];
};