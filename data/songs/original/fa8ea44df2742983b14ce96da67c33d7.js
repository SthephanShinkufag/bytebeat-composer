/*
.____                   .__                      
|    |    ___.__._______|__| ____                
|    |   <   |  |\_  __ \  |/ ___\               
|    |___ \___  | |  | \/  \  \___               
|_______ \/ ____| |__|  |__|\___  >              
        \/\/                    \/               
   _____                .__    .__               
  /     \ _____    ____ |  |__ |__| ____   ____  
 /  \ /  \\__  \ _/ ___\|  |  \|  |/    \_/ __ \ 
/    Y    \/ __ \\  \___|   Y  \  |   |  \  ___/ 
\____|__  (____  /\___  >___|  /__|___|  /\___  >
        \/     \/     \/     \/        \/     \/ v2.0

Breakbeat Remix of the Manchu Folk Song "Xongkoro", by Muse Labs (MarioFan171).

Visualizing Lyrics using the error console

Original can be heard here: https://www.youtube.com/watch?v=XxVBB0ynr-o

*/

i=0, //Turn Console On/Off

// Important Variables

T=t,
t2=t,

// Adjustables

tune=0.712,
speed=36/48,

tt=t*tune,
ts=t*speed,

// Main Variables

bt=beat=(len,spd,spd2=1)=>(ts*spd2>>spd)%len,
pseq=(char,spd=13,pitch=1)=>(tt*pitch)*2**
(parseInt(char[bt(char.length,spd)],36)/12)||0,
seq=(arr,spd=13,pitch=2)=>tt*pitch*2**(arr[bt(arr.length,spd)]/12)||0,
r=repeat=(x,y)=>Array(x).fill(y).flat(9),
m=mix=(x,vol=1,dist=0)=>((x*vol*(1+dist))%(256*vol))||0,
b=bytebeat=code=>((code)&255)/127-1,
bsn=(T,p=1)=>sin(T*PI/(128/p))*128+127.5,
s=saw=(T,p=1)=>atan(tan(T*PI/(128/p))),
t3=r(8).map((e,i)=>T+4e4/1.272**i),

dec=(ramp,spd,vol)=>((ts*ramp)&(4096*spd)-1)/vol,
dec2=(ramp,spd,vol)=>((ts*ramp)&(4096/spd)-1)/vol,
pluck=plk=(amp,spd)=>(1.1+(ts)/spd%32)*amp,

t?0:fx=r(29e3,0), // Effect Variable, by Greaserpirate

fxi=F=0, // Iterator, resets to 0 at every t

// What you see here is Greaserpirate's Reverb Code
rv=reverb=(x,len=16e3,feedb=.7,dry=.4,wet=1,dsp=2,T=t2)=>(
	ech=y=>fxi+(0|(y%len)/dsp),
	x=x*dry+wet*fx[ech(T)]||0,
	t2%dsp?0:fx[ech(t2)]=x*feedb,
	fxi+=0|(len/dsp),
	x
),

mel=melL=[7,7,10,14,12,,12,10,12,,12,10,12,10,7,,7,7,10,7,5,,5,3,5,,5,3,5,3,0,,7,7,10,14,12,,12,10,12,,12,10,12,10,7,,7,7,10,7,5,,5,3,5,,5,7,10,12,12,,7,7,10,14,12,,12,10,12,,12,10,12,10,7,,7,7,10,7,5,,5,3,5,,5,3,5,3,0,,7,7,10,14,12,,12,10,12,,12,10,12,10,7,,7,7,10,7,5,,5,3,5,,5,7,10,12,12,,12,12,12,12,10,12,12,,12,12,15,12,10,12,12,,5,5,5,5,3,5,5,,7,7,7,7,5,7,7,,12,12,12,12,10,12,12,,12,12,15,12,10,12,12,,5,5,5,5,3,5,5,,7,7,5,7,10,12,12,,],

melR=[3,3,5,10,7,,7,5,7,,7,5,7,5,3,,3,3,5,3,0,,0,-2,0,,0,0,0,0,-5,,3,3,5,10,7,,7,5,7,,7,5,7,5,3,,3,3,5,3,0,,0,-2,0,,5,3,5,5,5,,3,3,5,10,7,,7,5,7,,7,5,7,5,3,,3,3,5,3,0,,0,-2,0,,0,0,0,0,-5,,3,3,5,10,7,,7,5,7,,7,5,7,5,3,,3,3,5,3,0,,0,-2,0,,7,5,7,7,7,,7,7,7,7,10,7,7,,7,7,10,7,5,7,7,,0,0,0,0,-2,0,0,,3,3,3,3,0,3,3,,7,7,7,7,10,7,7,,7,7,10,7,5,7,7,,0,0,0,0,-2,0,0,,3,3,0,3,5,5,5,,],

melBass=[0,0,0,-2,0,0,0,-2,0,0,0,-2,0,3,-2,-5,-7,-7,-7,-9,-7,-7,-7,-9,-5,-5,-5,-7,-5,-2,0,0,],

k1=seq(mel),
k2=seq(melR),
kb=seq(melBass,13,1),

ins=(mel=k1)=>(((mel%128^mel%127*dec(-1,1,4e3))*dec(1,2,2e3))^mel%128)*dec(-1,2,32e3),

insC=(mel=k1)=>rv(m(ins(mel)*1.07,.975),16e3,.6,1.2,1,1)*dec(1,4,6e3),

bass=bs=((sin((kb|kb/1.97)*PI/256)*128+127.5)*dec(-1,1,4e3)^sin(kb>>kb/16)*128+127.5),

bs2=(kb^kb/2|kb)%127*dec(-1,1,4e3),

kseq=[1,2,2,1,2,1,1],
hseq=[4,4,2,],
sseq=[,1,,1],

kick=kk=(3e5/((ts*kseq[bt(kseq.length,12)]>>2)%2048))*2||0,

h=t*(441/480),
hihat=hh=((1&h)*192)/plk(1,512/hseq[bt(hseq.length,12)]),

snare=sn=(((t*1.25)*sin(t>>5))&53)*7/plk(1,512*sseq[bt(sseq.length,14)])||0,

comp=cL=m(((insC()%192)|(m(sn&253^kk&95,.6)+m(bs2&64,.5))+m(bs2,.2)+10)+m((bs^((kk%184)^hh*6)|(bs2&72)|sn&128),.45),.955),

cR=m(((insC(k2)%191)|(m(sn&253^kk&96,.65)+m(bs2&65,.5))+m(bs2,.2)+10)+m((bs^((kk%183)^hh*6)|(bs2&71)|sn&127),.4),.96),

cM=[max(min(cL,256),1),max(min(cR,256),1)],

info = function(length) {
var Title = "Lyric Machine by MarioFan171 (Muse Labs), feel free to use or modify it"

mk1=[
"#####***********************************************",
"*****####*******************************************",
"**********##****************************************",
"************##**************************************",
"***************##***********************************",
"***************##***********************************",
"*******************#######*########*****************",
"************************************##**************",
"************************************##**************",
"***************************************##***********",
"*****************************************####*******",
"**********************************************####**",
"**********************************************####**",
"**************************************************##",
"**************************************************##",
"****************************************************",
"****************************************************",
][bt(16,13)]

mk2=[
"##**************************************************",
"**##************************************************",
"*****####*******************************************",
"**********##****************************************",
"*************##*************************************",
"*****************####*******************************",
"**********************######************************",
"**********************######************************",
"*****************************###********************",
"********************************###*****************",
"************************************####************",
"****************************************####********",
"*********************************************##*****",
"*********************************************##*****",
"****************************************************",
"****************************************************",
][bt(16,13)]

mk3=[
"##**************************************************",
"**##************************************************",
"*****#**********************************************",
"*******####*****************************************",
"************####************************************",
"******************##********************************",
"********************###*****************************",
"************************######**********************",
"************************######**********************",
"*******************************##*******************",
"*********************************##*****************",
"************************************##**************",
"**************************************###***********",
"*****************************************##*********",
"****************************************************",
"****************************************************",
][bt(16,13)]

mk4=[
"###*************************************************",
"***###**********************************************",
"*******##*******************************************",
"*********##*****************************************",
"************######**********************************",
"************######**********************************",
"*******************###******************************",
"************************###*************************",
"************************###*************************",
"***************************##***********************",
"*****************************####*******************",
"**********************************##****************",
"************************************##**************",
"**************************************##************",
"****************************************************",
"****************************************************",
][bt(16,13)]

mk5=[
"####************************************************",
"****####********************************************",
"*********######*************************************",
"*********######*************************************",
"*********######*************************************",
"*****************###********************************",
"********************##******************************",
"***********************##*##************************",
"*****************************###********************",
"********************************###*****************",
"***********************************###**************",
"***************************************####*********",
"***************************************####*********",
"*******************************************###******",
"*******************************************###******",
"****************************************************",
][bt(16,13)]

mk6=[
"###*************************************************",
"***###**********************************************",
"*******##*******************************************",
"**********##****************************************",
"************###*************************************",
"************###*************************************",
"***************###**********************************",
"********************###*****************************",
"***********************###**************************",
"***********************###**************************",
"**************************###***********************",
"**************************###***********************",
"******************************####******************",
"******************************####******************",
"**********************************###***************",
"****************************************************",
][bt(16,13)]

mk7=[
"###*************************************************",
"###*************************************************",
"****##**********************************************",
"******###*******************************************",
"*********##*****************************************",
"*********##*****************************************",
"*************##*************************************",
"***************###**********************************",
"******************###*******************************",
"**********************###***************************",
"*************************###*##*********************",
"********************************###*****************",
"***********************************##***************",
"*************************************##*************",
"*************************************##*************",
"****************************************************"
][bt(16,13)]

mk8=[
"##**************************************************",
"**##************************************************",
"*****##*********************************************",
"*******###******************************************",
"***********####*************************************",
"***************##***********************************",
"******************#####*****************************",
"***********************###**************************",
"****************************##**********************",
"****************************##**********************",
"******************************##********************",
"********************************###*****************",
"************************************###*************",
"***************************************##***********",
"*****************************************##*********",
"****************************************************",
][bt(16,13)]

mk9=[
"####************************************************",
"****#####*******************************************",
"**********##****************************************",
"************##**************************************",
"***************####*********************************",
"***************####*********************************",
"*******************####*****************************",
"*******************####*****************************",
"*************************##*************************",
"***************************###**********************",
"*******************************###******************",
"**********************************###***************",
"**************************************###***********",
"*****************************************###********",
"*********************************************##*****",
"****************************************************",
][bt(16,13)]

mk10=[
"####************************************************",
"****#####*******************************************",
"**********##****************************************",
"************#**************************************",
"**************####**********************************",
"**************####**********************************",
"******************####******************************",
"******************####******************************",
"************************##**************************",
"**************************###***********************",
"******************************###*******************",
"*********************************###****************",
"*************************************###************",
"****************************************###*********",
"********************************************##******",
"****************************************************",
][bt(16,13)]

mk11=[
"###*************************************************",
"****#######*****************************************",
"************#####***********************************",
"******************####******************************",
"***********************##***************************",
"***********************##***************************",
"***************************##***********************",
"*****************************##*********************",
"********************************##******************",
"**********************************##****************",
"*************************************#**************",
"**************************************##************",
"*****************************************##*********",
"*****************************************##*********",
"*******************************************##*******",
"****************************************************",
][bt(16,13)]

mk12=[
"##**************************************************",
"##**************************************************",
"**##************************************************",
"****##**********************************************",
"*******####*****************************************",
"***********###**************************************",
"***************##***********************************",
"***************##***********************************",
"******************###*******************************",
"*********************##*****************************",
"*********************##*****************************",
"************************####************************",
"****************************##**********************",
"******************************###*******************",
"*********************************##*****************",
"****************************************************",
][bt(16,13)]

mk13=[
"##**************************************************",
"**##************************************************",
"*****#**********************************************",
"*******##*******************************************",
"*********###****************************************",
"*********###****************************************",
"**************###***********************************",
"******************#*********************************",
"********************##******************************",
"**********************##****************************",
"*************************##*************************",
"***************************##***********************",
"*****************************##*********************",
"*****************************##*********************",
"*******************************##*******************",
"****************************************************",
][bt(16,13)]

mk14=[
"##**************************************************",
"***###**********************************************",
"******##********************************************",
"********##******************************************",
"**********##****************************************",
"**********##****************************************",
"**************##************************************",
"****************##**********************************",
"*******************###******************************",
"**********************##****************************",
"*************************##*************************",
"***************************##***********************",
"******************************##********************",
"********************************###*****************",
"***********************************##***************",
"****************************************************",
][bt(16,13)]

var Marker = [
mk1,
mk2,
mk3,
mk4,
mk5,
mk6,
mk7,
mk8,
mk9,
mk10,
mk9,
mk10,
mk1,
mk2,
mk3,
mk4,
mk5,
mk6,
mk7,
mk8,
mk9,
mk10,
mk9,
mk10,
mk11,
mk12,
mk13,
mk14,
mk1,
mk2,
mk3,
mk4,
mk9,
mk10,
mk9,
mk10
][bt(36,17)]

var Lyrics = [ //The lyrics of the song you want to be. Change the speed modifier of the bt() function to which length the line plays
"Xanggiyan alin de, gukiong nimanggi be fehume tuwaci,",
"Leli abka na de, mini deyere enduri xongkoro bi.",
"Weji i hafu yome, abkai mangga beri darambi.",
"Mangga beri darara age, coktolome yabuki.",
"Xongkoro deyeme, bolgo na be coktolome tuwambi.",
"Colkon be dasihime, coktolome iserakv.",
"Age sujumpi, boconggo gerhen be sihambi.",
"Batu katun kiriba mujingga, akdacun banjiha.",
"Xanggiyan Alin serengge, musei Manjui fulehe da.",
"Sahaliyan Ula serengge, musei Manjui fulehe da.",
"Xanggiyan Alin serengge, musei Manjui fulehe da.",
"Sahaliyan Ula serengge, musei Manjui fulehe da.",
"Xanggiyan alin de, gukiong nimanggi be fehume tuwaci,",
"Leli abka na de, mini deyere enduri xongkoro bi.",
"Weji i hafu yome, abkai mangga beri darambi.",
"Mangga beri darara age, coktolome yabuki.",
"Xongkoro deyeme, bolgo na be coktolome tuwambi.",
"Colkon be dasihime, coktolome iserakv.",
"Age sujumpi, boconggo gerhen be sihambi.",
"Batu katun kiriba mujingga, akdacun banjiha.",
"Xanggiyan Alin serengge, musei Manjui fulehe da.",
"Sahaliyan Ula serengge, musei Manjui fulehe da.",
"Xanggiyan Alin serengge, musei Manjui fulehe da.",
"Sahaliyan Ula serengge, musei Manjui fulehe da.",
"Xun mukdeke dergi ergi de, alin hada ula bira,",
"Fafuri niyalma be ujime hvwaxabumbi.",
"Tese i hethe, xun i gese eldengge.",
"Bi coktolome, imbe Manju seme hvlambi.",
"Xanggiyan alin de, gukiong nimanggi be fehume tuwaci,",
"Leli abka na de, mini deyere enduri xongkoro bi.",
"Weji i hafu yome, abkai mangga beri darambi.",
"Mangga beri darara age, coktolome yabuki.",
"Xanggiyan Alin serengge, musei Manjui fulehe da.",
"Sahaliyan Ula serengge, musei Manjui fulehe da.",
"Xanggiyan Alin serengge, musei Manjui fulehe da.",
"Sahaliyan Ula serengge, musei Manjui fulehe da.",
][bt(36,17)]

// Lyrics displayed in error console
throw Display =
"\n"+
Title+
"\n\n"+
"[--------------------] Lyrics [--------------------]"+
"\n"+
Marker+
"\n"+
Lyrics+
"\n"+
"[--------------------------------------------------]"
},

i>0||(t/8.15%1%1)?cM:info()