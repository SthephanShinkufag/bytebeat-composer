t?(p=inp=>t*2**(inp/12),ch=(inp,det)=>sin(cos(p(inp+det)/32*PI)/2.8+sin(cos(p(inp,det)/64*PI)+sin(cos(p(inp+det)/128*PI))))/2,E=t*s/15*87.5,n=D,D=1-(2*E&1),n=U,U='0010'[E&3]*D,U-n>0?A=a=0:A+=s,n=V,V='10000100'[E&7],V-n>0?B=0:B+=s,n=I,I='1010'[4*E&3],I-n>0?C=0:C+=s,n=2e3*env(A,50,6)+200*env(A,25,2)+230,a=(a+n*s)%1,n=3.5e3/(1+B*1200),b=(b+n*s)%1,sn=()=>(c=2*random()-1,f=.2,q=.5,z=q+q/(1-f),x+=f*(c-x+z*(x-y)),y+=f*(x-y),clip((c-y)*(env(A,80,3)/3+env(A,9,2)*min(A*15,1)**1.5)*3.4+sin(2*a*PI)*env(A,10,2)*1.75)),kick=clip(sin(2*b*PI))*1.1*env(B,7,.5),hi=()=>(c=2*random()-1,f=6880*PI*s,q=.8,f=q+q/(1-f),h1+=.5*((c-h1+f*(h1-h2))-h2),h2+=.5*(h1-h2),f=21e3*PI*s,h3+=f*(c-h3),clip(((c-h3)*.5+(h1-h2))/2)*env(C,15,4)),drums=()=>(kick+sn()+hi())/1.25,chord=lr=>(chs=(ch(4,lr)+ch(6,lr)+ch(9,lr)+ch([1,2][1&E/16],lr)*1.25)/4**abs(cos(E%2)*1.75)/2.5+r[t%mem],r[t%mem]=.6*chs,chs),bass=clip(sin((p([1,2][1&E/16])+32*sin(p([1,2][1&E/16])/256*PI))/128*PI)*(1-E%1)**2)/2,chords=[chord(0),chord(.2)],drums=[drums(),drums()],[clip(chords[0]+bass+drums[0])*1.25,clip(chords[1]+bass+drums[1])*1.25]):(s=1/48e3,env=(a,b,c)=>(1-(a*b<1?a*b:1))**c,clip=x=>atan(2*x)/2,U=V=I=a=b=h1=h2=h3=x=y=0,A=B=C=D=4,r=Array(mem=16384).fill(0))